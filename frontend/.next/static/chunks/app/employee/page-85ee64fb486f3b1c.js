(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[487],{9873:function(e,t,s){Promise.resolve().then(s.bind(s,8397))},6362:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8755).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},8397:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var a=s(7437),n=s(7648),r=s(407),l=s(1804),i=s(4286),c=s(1723),x=s(6337),d=s(6362),m=s(8755);let o=(0,m.Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var h=s(7168),p=s(8906),u=s(3478),j=s(2671),y=s(8508),f=s(8711),g=s(2593),N=s(8828),v=s(2265);let w=(0,m.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var b=s(9322);let Z=(0,m.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),k=(0,m.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var z=s(6334);function S(){let{payGramCore:e,trustScoring:t,address:s,contractsReady:n}=(0,u.$)(),[r,l]=(0,v.useState)(null),[i,c]=(0,v.useState)(null),[d,m]=(0,v.useState)(null),[o,h]=(0,v.useState)(!1),[p,j]=(0,v.useState)(!1),[y,f]=(0,v.useState)(!1),[g,N]=(0,v.useState)(!1);async function S(){if(!e||!t||!s){N(!0),l(!0),c("Senior Engineer"),m("HIGH"),h(!0);return}j(!0);try{let a=await e.isActiveEmployee(s);if(l(a),a){let t=await e.getEmployee(s);c(t.role)}let n=await t.hasScore(s);m(n?"MEDIUM":"LOW")}catch(e){N(!0),l(!0),c("Senior Engineer"),m("HIGH")}finally{j(!1),h(!0)}}return o?!1===r?(0,a.jsxs)("div",{className:"glass-card-static p-8 text-center",children:[(0,a.jsx)(b.Z,{size:32,className:"mx-auto mb-4 text-text-muted"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Your wallet is not registered as an active employee."})]}):(0,a.jsxs)("div",{className:"glass-card p-6 glow-green space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-heading font-bold text-text",children:"Your Salary"}),g&&(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium bg-warning-muted text-warning border border-warning/20",children:"Demo Data"})]}),(0,a.jsx)("div",{className:"py-6 text-center",children:y?(0,a.jsxs)("div",{className:"animate-fade-in",children:[(0,a.jsxs)("p",{className:"text-4xl font-heading font-bold text-text",children:["5,000"," ",(0,a.jsx)("span",{className:"text-lg text-primary",children:"cUSDC"})]}),(0,a.jsx)("p",{className:"text-xs text-text-muted mt-1",children:"per month"})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-4xl font-mono font-bold text-text-muted tracking-widest",children:"******"}),(0,a.jsxs)("p",{className:"text-xs text-text-muted mt-1 flex items-center justify-center gap-1",children:[(0,a.jsx)(x.Z,{size:10}),"Encrypted with FHE"]})]})}),(0,a.jsx)(z.Z,{variant:y?"outline":"primary",onClick:()=>f(!y),className:"w-full",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z,{size:14}),"Hide Salary"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w,{size:14}),"Decrypt Salary"]})}),(0,a.jsx)("p",{className:"text-[11px] text-text-muted text-center leading-relaxed",children:"Only you can see this. Encrypted with FHE on-chain."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[(0,a.jsxs)("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-wider",children:"Role"}),(0,a.jsx)("p",{className:"text-sm font-medium text-text mt-0.5",children:null!=i?i:"Unknown"})]}),(0,a.jsxs)("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[(0,a.jsx)("p",{className:"text-[10px] text-text-muted uppercase tracking-wider",children:"Last Payment"}),(0,a.jsxs)("p",{className:"text-sm font-medium text-text mt-0.5 flex items-center gap-1",children:[(0,a.jsx)(k,{size:12,className:"text-text-muted"}),"Feb 1, 2026"]})]})]})]}):(0,a.jsxs)("div",{className:"glass-card p-8 text-center glow-green",children:[(0,a.jsx)(x.Z,{size:32,className:"mx-auto mb-4 text-primary"}),(0,a.jsx)("h3",{className:"text-lg font-heading font-bold text-text mb-2",children:"Your Salary"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Load your encrypted employment information"}),(0,a.jsxs)(z.Z,{onClick:S,loading:p,disabled:!n&&!g,size:"lg",children:[(0,a.jsx)(w,{size:16}),p?"Loading...":"Load My Info"]}),!n&&(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1.5 mt-3 text-xs text-text-muted",children:[(0,a.jsx)(b.Z,{size:12}),"Will show demo data if contracts unavailable"]})]})}var E=s(8736),M=s(8705),H=s(8355),P=s(6376);function C(){let{payGramCore:e,address:t,contractsReady:s}=(0,u.$)(),[n,r]=(0,v.useState)([]),[l,i]=(0,v.useState)(!1),[c,d]=(0,v.useState)(!1),m=(0,v.useCallback)(async()=>{if(!e||!t){d(!0);return}i(!0);try{let s=await e.getPendingPaymentsForEmployee(t),a=[];for(let t of s)try{let s=await e.getPendingPayment(t);a.push({id:Number(t),status:Number(s.status),createdAt:s.createdAt,releaseTime:s.releaseTime,milestone:s.milestone})}catch(e){}r(a.reverse()),d(0===a.length)}catch(e){d(!0)}finally{i(!1)}},[e,t]);(0,v.useEffect)(()=>{s&&t?m():d(!0)},[s,t,m]);let o=e=>{var t;return null!==(t=M.R$[e])&&void 0!==t?t:"Unknown"};function p(e){if("string"==typeof e)switch(e){case"completed":return"primary";case"delayed":case"released":return"warning";case"escrowed":return"danger";default:return"default"}switch(e){case 1:return"primary";case 2:return"warning";case 3:return"danger";case 4:return"secondary";default:return"default"}}return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-heading font-bold text-text",children:"Payment History"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[c&&(0,a.jsx)(f.Z,{variant:"warning",size:"sm",children:"Demo Data"}),(0,a.jsxs)(z.Z,{variant:"ghost",size:"sm",onClick:m,disabled:l,children:[(0,a.jsx)(h.Z,{size:13,className:l?"animate-spin":""}),"Refresh"]})]})]}),c?(0,a.jsx)("div",{className:"space-y-3",children:P.p$.map(e=>(0,a.jsxs)("div",{className:"glass-card-static p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm font-mono text-text-secondary",children:["Payment #",e.id]}),(0,a.jsx)(f.Z,{variant:p(e.status),size:"sm",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,a.jsx)(f.Z,{variant:"outline",size:"sm",children:e.type})]}),(0,a.jsx)("p",{className:"text-xs text-text-muted mt-1",children:new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-sm font-mono text-text-muted",children:[(0,a.jsx)(x.Z,{size:10}),"Encrypted"]})})]},e.id))}):0===n.length?(0,a.jsxs)("div",{className:"glass-card-static p-12 text-center",children:[(0,a.jsx)(E.Z,{size:40,className:"mx-auto mb-3 text-text-muted"}),(0,a.jsx)("p",{className:"text-sm font-medium text-text mb-1",children:"No payments yet"}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Your payment records will appear here after payroll execution"})]}):(0,a.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,a.jsxs)("div",{className:"glass-card-static p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm font-mono text-text-secondary",children:["Payment #",e.id]}),(0,a.jsx)(f.Z,{variant:p(e.status),size:"sm",children:o(e.status)})]}),(0,a.jsxs)("p",{className:"text-xs text-text-muted mt-1",children:["Created ",(0,H.i$)(e.createdAt),e.releaseTime>0n&&" â€¢ Releases ".concat((0,H.i$)(e.releaseTime))]}),e.milestone&&(0,a.jsx)("p",{className:"text-xs text-text-muted mt-0.5",children:e.milestone})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-sm font-mono text-text-muted",children:[(0,a.jsx)(x.Z,{size:10}),"Encrypted"]})})]},e.id))})]})}function D(){let{address:e,isConnected:t,isSupportedChain:s}=(0,u.$)(),m=t&&s;return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-text-muted mb-6",children:[(0,a.jsx)(n.default,{href:"/",className:"hover:text-text transition-colors",children:"Home"}),(0,a.jsx)(r.Z,{size:12}),(0,a.jsx)("span",{className:"text-text-secondary",children:"Employee"})]}),(0,a.jsx)(N.Z,{}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-heading font-bold text-text",children:"Employee Portal"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:"View your salary, trust tier, and payment history"})]}),t&&e&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{address:e}),(0,a.jsx)(y.Z,{tier:"high",size:"md"})]})]}),!m&&(0,a.jsxs)(g.Z,{className:"p-12 text-center",children:[(0,a.jsx)(l.Z,{size:48,className:"mx-auto mb-4 text-text-muted"}),(0,a.jsx)("h2",{className:"text-lg font-heading font-bold text-text mb-2",children:t?"Switch Network":"Connect Your Wallet"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary mb-1",children:t?"Please switch to Sepolia to access your portal":"Connect your wallet to view your employment details"}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Showing demo data below"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6 mt-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)(S,{}),(0,a.jsx)(C,{})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(g.Z,{className:"p-6",variant:"primary",children:[(0,a.jsx)("h3",{className:"text-sm font-heading font-bold text-text mb-4",children:"Trust Score"}),(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)(y.Z,{tier:"high",size:"lg"})}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-text-muted",children:[(0,a.jsx)("span",{children:"0"}),(0,a.jsx)("span",{children:"40"}),(0,a.jsx)("span",{children:"75"}),(0,a.jsx)("span",{children:"100"})]}),(0,a.jsxs)("div",{className:"relative h-2 rounded-full bg-white/[0.05] overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 w-[40%] bg-danger/40 rounded-l-full"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-[40%] w-[35%] bg-warning/40"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-[75%] w-[25%] bg-primary/40 rounded-r-full"}),(0,a.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 left-[82%] w-3 h-3 rounded-full bg-primary border-2 border-background shadow-lg shadow-primary/30"})]})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-2 text-xs text-text-muted",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{size:12,className:"text-primary"}),(0,a.jsx)("span",{children:"75-100: Instant encrypted transfer"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{size:12,className:"text-warning"}),(0,a.jsx)("span",{children:"40-74: 24-hour delayed release"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{size:12,className:"text-danger"}),(0,a.jsx)("span",{children:"0-39: Milestone-gated escrow"})]})]}),(0,a.jsx)("p",{className:"mt-4 text-[10px] text-text-muted",children:"Score expires in 24 days"})]}),(0,a.jsxs)("div",{className:"glass-card-static p-5",children:[(0,a.jsx)("h3",{className:"text-sm font-heading font-bold text-text mb-3",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("a",{href:e?"https://sepolia.etherscan.io/address/".concat(e):"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm text-text-secondary hover:text-text hover:bg-white/[0.03] transition-colors",children:[(0,a.jsx)(d.Z,{size:14}),"View on Explorer"]}),(0,a.jsxs)("button",{type:"button",className:"w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm text-text-secondary hover:text-text hover:bg-white/[0.03] transition-colors text-left",children:[(0,a.jsx)(o,{size:14}),"Contact Employer"]}),(0,a.jsxs)("button",{type:"button",className:"w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm text-text-secondary hover:text-text hover:bg-white/[0.03] transition-colors text-left",children:[(0,a.jsx)(h.Z,{size:14}),"Request Score Update"]})]})]}),(0,a.jsxs)("div",{className:"glass-card-static p-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(p.Z,{size:14,className:"text-secondary"}),(0,a.jsx)("h3",{className:"text-sm font-heading font-bold text-text",children:"Privacy"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-xs text-text-muted leading-relaxed",children:[(0,a.jsx)("p",{children:"Your salary and trust score are encrypted using Fully Homomorphic Encryption (FHE). Only you can decrypt your own data."}),(0,a.jsx)("p",{children:"Your employer cannot see individual salary amounts. Payroll routing happens entirely within encrypted computation."})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsxs)(f.Z,{variant:"secondary",size:"sm",children:[(0,a.jsx)(x.Z,{size:10}),"FHE Protected"]})})]})]})]})]})}},2593:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),n=s(3448);let r={default:"",primary:"glow-green",warning:"glow-yellow",danger:"glow-red"};function l(e){let{children:t,className:s,hover:l=!0,variant:i="default",onClick:c}=e;return(0,a.jsx)("div",{onClick:c,className:(0,n.cn)(l?"glass-card":"glass-card-static",r[i],c&&"cursor-pointer",s),children:t})}}},function(e){e.O(0,[598,543,684,592,971,117,744],function(){return e(e.s=9873)}),_N_E=e.O()}]);