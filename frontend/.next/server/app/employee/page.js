(()=>{var e={};e.id=487,e.ids=[487],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},1568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},777:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(9159),s(9335),s(5866);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["employee",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9159)),"C:\\Users\\RIKI\\Trusted-paygram\\frontend\\src\\app\\employee\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9335)),"C:\\Users\\RIKI\\Trusted-paygram\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\RIKI\\Trusted-paygram\\frontend\\src\\app\\employee\\page.tsx"],x="/employee/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/employee/page",pathname:"/employee",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1744:(e,t,s)=>{Promise.resolve().then(s.bind(s,3207))},3207:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(326),a=s(9646),l=s(1726),n=s(7577),i=s(3566);function o(){let{payGramCore:e,trustScoring:t,address:s,contractsReady:l}=(0,a.$)(),[o,c]=(0,n.useState)(null),[x,m]=(0,n.useState)(null),[p,u]=(0,n.useState)(null),[h,g]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!1);async function b(){if(e&&t&&s){j(!0);try{let r=await e.isActiveEmployee(s);if(c(r),r){let t=await e.getEmployee(s);m(t.role)}await t.hasScore(s)?u("MEDIUM"):u("LOW")}catch{c(!1)}finally{j(!1),g(!0)}}}let f=p?i.c_[p]:null;return(0,r.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"My Employment"}),l?h?!1===o?r.jsx("p",{className:"text-sm text-slate-400",children:"Your wallet is not registered as an active employee."}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"rounded-lg bg-slate-800/50 p-4",children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Role"}),r.jsx("p",{className:"text-lg font-medium text-white mt-1",children:x??"Unknown"})]}),(0,r.jsxs)("div",{className:"rounded-lg bg-slate-800/50 p-4",children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Your Salary"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[r.jsx("span",{className:"text-lg font-mono text-slate-400",children:"*** Encrypted ***"}),r.jsx("button",{className:"px-3 py-1 rounded-lg bg-emerald-600/20 border border-emerald-600/40 text-emerald-400 text-xs font-medium hover:bg-emerald-600/30 transition-colors",onClick:()=>{alert("Decryption requires FHE reencryption gateway — coming soon")},children:"Decrypt"})]})]}),f&&(0,r.jsxs)("div",{className:"rounded-lg bg-slate-800/50 p-4",children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Trust Tier"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(d,{tier:p}),r.jsx("span",{className:"text-sm text-slate-400",children:f.description})]})]})]}):r.jsx("button",{onClick:b,disabled:y,className:"px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-medium transition-colors",children:y?"Loading...":"Load My Info"}):r.jsx("p",{className:"text-sm text-slate-500",children:"Connect wallet to view your details"})]})}function d({tier:e}){let t=i.c_[e];return(0,r.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium border ${{green:"bg-emerald-900/50 text-emerald-400 border-emerald-800",yellow:"bg-yellow-900/50 text-yellow-400 border-yellow-800",red:"bg-red-900/50 text-red-400 border-red-800"}[t.color]}`,children:["HIGH"===e&&r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),"MEDIUM"===e&&r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"LOW"===e&&r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),t.label]})}function c(){let{payGramCore:e,address:t,contractsReady:s}=(0,a.$)(),[o,d]=(0,n.useState)([]),[c,x]=(0,n.useState)(!1),m=(0,n.useCallback)(async()=>{if(e&&t){x(!0);try{let s=await e.getPendingPaymentsForEmployee(t),r=[];for(let t of s)try{let s=await e.getPendingPayment(t);r.push({id:Number(t),status:Number(s.status),createdAt:s.createdAt,releaseTime:s.releaseTime,milestone:s.milestone})}catch{}d(r.reverse())}catch{}finally{x(!1)}}},[e,t]),p=e=>i.R$[e]??"Unknown",u=e=>{switch(e){case 1:return"text-emerald-400 bg-emerald-900/50";case 2:return"text-yellow-400 bg-yellow-900/50";case 3:return"text-red-400 bg-red-900/50";case 4:return"text-blue-400 bg-blue-900/50";case 5:return"text-slate-400 bg-slate-800";default:return"text-slate-500 bg-slate-800"}};return(0,r.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"My Payments"}),r.jsx("button",{onClick:m,disabled:c||!s,className:"px-3 py-1 rounded-lg bg-slate-800 hover:bg-slate-700 disabled:opacity-50 text-slate-300 text-xs font-medium border border-slate-700 transition-colors",children:c?"Loading...":"Refresh"})]}),s&&t?0===o.length?r.jsx("p",{className:"text-sm text-slate-500",children:"No payment records found"}):r.jsx("div",{className:"space-y-3",children:o.map(e=>(0,r.jsxs)("div",{className:"rounded-lg bg-slate-800/50 p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-sm font-mono text-slate-300",children:["Payment #",e.id]}),r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${u(e.status)}`,children:p(e.status)})]}),(0,r.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Created ",(0,l.i$)(e.createdAt),e.releaseTime>0n&&` • Releases ${(0,l.i$)(e.releaseTime)}`]}),e.milestone&&r.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:e.milestone})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-mono text-slate-400",children:"*** cPAY"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Encrypted"})]})]},e.id))}):r.jsx("p",{className:"text-sm text-slate-500",children:"Connect wallet to view your payments"})]})}function x(){let{address:e,isConnected:t,chainName:s,isSupportedChain:n}=(0,a.$)();return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Employee Portal"}),r.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"View your salary, trust tier, and payment history"})]}),t&&(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Connected as"}),r.jsx("p",{className:"text-sm font-mono text-slate-300",children:(0,l.FP)(e??"")}),s&&r.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:s})]})]}),t?n?(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(o,{}),r.jsx(c,{})]}):r.jsx("div",{className:"rounded-xl border border-red-900/50 bg-red-950/30 p-8 text-center",children:r.jsx("p",{className:"text-sm text-red-400",children:"Please switch to Sepolia or Ethereum Mainnet."})}):(0,r.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-12 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-slate-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),r.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Connect Your Wallet"}),r.jsx("p",{className:"text-sm text-slate-400",children:"Connect your wallet to view your employment details"})]})]})}},9159:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\RIKI\Trusted-paygram\frontend\src\app\employee\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[592,216],()=>s(777));module.exports=r})();