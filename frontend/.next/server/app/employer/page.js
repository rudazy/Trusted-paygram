(()=>{var e={};e.id=114,e.ids=[114],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},1568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},7294:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>p,tree:()=>c}),s(5005),s(9335),s(5866);var a=s(3191),r=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["employer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5005)),"C:\\Users\\RIKI\\Trusted-paygram\\frontend\\src\\app\\employer\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9335)),"C:\\Users\\RIKI\\Trusted-paygram\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\RIKI\\Trusted-paygram\\frontend\\src\\app\\employer\\page.tsx"],o="/employer/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/employer/page",pathname:"/employer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3597:(e,t,s)=>{Promise.resolve().then(s.bind(s,1272))},4061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5578).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1272:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>F});var a=s(326),r=s(7577),l=s(434),i=s(4061),n=s(5578);let d=(0,n.Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var c=s(6671),x=s(9183),o=s(2714),m=s(165),p=s(9646),u=s(4480),h=s(4352),y=s(1223);let j={primary:{bg:"bg-primary-muted",text:"text-primary",border:"border-l-primary"},secondary:{bg:"bg-secondary-muted",text:"text-secondary",border:"border-l-secondary"},warning:{bg:"bg-warning-muted",text:"text-warning",border:"border-l-warning"},danger:{bg:"bg-danger-muted",text:"text-danger",border:"border-l-danger"}};function g({title:e,value:t,subtitle:s,icon:r,accentColor:l="primary",className:i}){let n=j[l];return a.jsx("div",{className:(0,y.cn)("glass-card-static p-5 border-l-2",n.border,i),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-text-muted",children:e}),a.jsx("p",{className:"text-2xl font-heading font-bold text-text",children:t}),s&&a.jsx("p",{className:"text-xs text-text-secondary",children:s})]}),a.jsx("div",{className:(0,y.cn)("p-2.5 rounded-xl",n.bg),children:a.jsx(r,{size:20,className:n.text})})]})})}function f({tabs:e,activeTab:t,onChange:s,className:r}){return a.jsx("div",{className:(0,y.cn)("flex items-center gap-1 p-1 rounded-xl bg-white/[0.03] border border-white/[0.06]",r),children:e.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>s(e.id),className:(0,y.cn)("flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200",t===e.id?"bg-white/[0.08] text-text shadow-sm":"text-text-muted hover:text-text-secondary hover:bg-white/[0.03]"),children:[e.icon,e.label]},e.id))})}var b=s(6792),N=s(9802),v=s(9015),w=s(1291);let Z=(0,n.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var C=s(9837);let z=(0,r.forwardRef)(({label:e,hint:t,error:s,className:r,id:l,...i},n)=>{let d=l||e?.toLowerCase().replace(/\s+/g,"-");return(0,a.jsxs)("div",{className:"space-y-1.5",children:[e&&a.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-text-secondary",children:e}),a.jsx("input",{ref:n,id:d,className:(0,y.cn)("w-full px-4 py-2.5 rounded-xl text-sm text-text","bg-white/[0.03] border border-white/[0.08]","placeholder:text-text-muted","focus:outline-none focus:border-primary/40 focus:ring-1 focus:ring-primary/20","transition-all duration-200",s&&"border-danger/40 focus:border-danger/40 focus:ring-danger/20",r),...i}),t&&!s&&a.jsx("p",{className:"text-xs text-text-muted",children:t}),s&&a.jsx("p",{className:"text-xs text-danger",children:s})]})});z.displayName="Input";var E=s(4019);function k({open:e,onClose:t,title:s,description:l,children:i,className:n}){let d=(0,r.useRef)(null);return((0,r.useCallback)(e=>{"Escape"===e.key&&t()},[t]),e)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{ref:d,className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),(0,a.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title",className:(0,y.cn)("relative z-10 w-full max-w-lg animate-slide-up","bg-surface border border-white/[0.06] rounded-2xl shadow-2xl",n),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between p-6 pb-2",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{id:"dialog-title",className:"text-lg font-heading font-bold text-text",children:s}),l&&a.jsx("p",{className:"mt-1 text-sm text-text-secondary",children:l})]}),a.jsx("button",{type:"button",onClick:t,className:"p-1.5 rounded-lg text-text-muted hover:text-text hover:bg-white/5 transition-colors",children:a.jsx(E.Z,{size:18})})]}),a.jsx("div",{className:"p-6 pt-4",children:i})]})]}):null}function S({open:e,onClose:t,onSuccess:s}){let{payGramCore:l,contractsReady:i}=(0,p.$)(),[n,d]=(0,r.useState)(""),[c,x]=(0,r.useState)(""),[o,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null);function g(){d(""),x(""),m(""),j(null),t()}async function f(e){if(e.preventDefault(),l){h(!0),j(null);try{let e=parseInt(c,10);if(isNaN(e)||e<=0)throw Error("Salary must be a positive number");let t=await l.addEmployeePlaintext(n,e,o);await t.wait(),j({type:"success",message:"Employee added successfully"}),setTimeout(()=>{g(),s?.()},1500)}catch(e){j({type:"error",message:e instanceof Error?e.message:"Failed to add employee"})}finally{h(!1)}}}return a.jsx(k,{open:e,onClose:g,title:"Add Employee",description:"Register a new team member with encrypted salary",children:(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[a.jsx(z,{label:"Wallet Address",value:n,onChange:e=>d(e.target.value),placeholder:"0x...",required:!0,hint:"Employee's Ethereum address"}),a.jsx(z,{label:"Monthly Salary (cUSDC)",type:"number",value:c,onChange:e=>x(e.target.value),placeholder:"5000",min:"1",required:!0,hint:"Encrypted on-chain via FHE"}),a.jsx(z,{label:"Role",value:o,onChange:e=>m(e.target.value),placeholder:"e.g. Senior Engineer",required:!0}),(0,a.jsxs)("div",{className:"pt-2 space-y-3",children:[(0,a.jsxs)(C.Z,{type:"submit",loading:u,disabled:!i,className:"w-full",size:"lg",children:[a.jsx(v.Z,{size:14}),u?"Submitting...":"Add Employee"]}),!i&&(0,a.jsxs)("p",{className:"flex items-center gap-1.5 text-xs text-warning",children:[a.jsx(w.Z,{size:12}),"Connect wallet to a supported network first"]}),a.jsx("p",{className:"text-[11px] text-text-muted leading-relaxed",children:"Salary is encrypted on-chain via FHE. Only the employee and employer can decrypt their own values."})]}),y&&(0,a.jsxs)("div",{className:`flex items-center gap-2 p-3 rounded-lg text-sm ${"success"===y.type?"bg-primary-muted text-primary":"bg-danger-muted text-danger"}`,children:["success"===y.type?a.jsx(Z,{size:14}):a.jsx(w.Z,{size:14}),y.message]})]})})}var P=s(1405),T=s(1726),D=s(4624),A=s(4491);function q({onAddEmployee:e,isOwner:t}){let{payGramCore:s,contractsReady:l}=(0,p.$)(),[n,d]=(0,r.useState)([]),[c,x]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),y=(0,r.useCallback)(async()=>{if(!s){m(!0);return}x(!0);try{let e=await s.getEmployeeList(),t=[];for(let a of e)try{let e=await s.getEmployee(a);t.push({wallet:e.empWallet,isActive:e.isActive,hireDate:e.hireDate,lastPayDate:e.lastPayDate,role:e.role})}catch{}d(t),m(0===t.length)}catch{m(!0)}finally{x(!1)}},[s]),j=o?u.b6:n;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-heading font-bold text-text",children:"Employee Roster"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o&&a.jsx(b.Z,{variant:"warning",size:"sm",children:"Demo Data"}),(0,a.jsxs)(C.Z,{variant:"ghost",size:"sm",onClick:y,disabled:c,children:[a.jsx(P.Z,{size:13,className:c?"animate-spin":""}),"Refresh"]}),(0,a.jsxs)("div",{className:"relative group",children:[a.jsx(C.Z,{variant:"primary",size:"sm",onClick:e,disabled:!t,children:"Add Employee"}),!t&&a.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2.5 py-1.5 rounded-lg bg-surface-elevated text-[11px] text-text-muted whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none border border-white/[0.08]",children:"Only contract owner can add employees"})]})]})]}),0===j.length?(0,a.jsxs)("div",{className:"glass-card-static p-12 text-center",children:[a.jsx(i.Z,{size:40,className:"mx-auto mb-3 text-text-muted"}),a.jsx("p",{className:"text-sm font-medium text-text mb-1",children:"No employees yet"}),a.jsx("p",{className:"text-xs text-text-muted mb-4",children:"Add your first team member to get started"}),a.jsx(C.Z,{size:"sm",onClick:e,disabled:!t,children:"Add Employee"})]}):a.jsx("div",{className:"glass-card-static overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left text-text-muted border-b border-white/[0.06]",children:[a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Status"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Address"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Role"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Trust Tier"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Salary"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Hire Date"})]})}),a.jsx("tbody",{className:"divide-y divide-white/[0.03]",children:j.map((e,t)=>{let s="tier"in e,r=s?e.address:e.wallet,l=s?"active"===e.status:e.isActive,i=e.role,n=s?e.tier:"unscored",d=s?new Date(e.hireDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):(0,T.i$)(e.hireDate);return(0,a.jsxs)("tr",{className:"text-text-secondary hover:bg-white/[0.02] transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx(A.Z,{status:l?"active":"inactive",size:"md"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(h.Z,{address:r})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(b.Z,{variant:"outline",size:"sm",children:i})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(D.Z,{tier:n,size:"sm"})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs text-text-muted font-mono",children:[a.jsx(v.Z,{size:10}),"Encrypted"]})}),a.jsx("td",{className:"px-4 py-3 text-xs text-text-muted",children:d})]},r+t)})})]})})})]})}var R=s(763),_=s(8998);let I=(0,n.Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);function M({isOwner:e}){let{payGramCore:t,contractsReady:s}=(0,p.$)(),[l,i]=(0,r.useState)(0),[n,d]=(0,r.useState)(0),[c,x]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[h,y]=(0,r.useState)(!1),[j,g]=(0,r.useState)(null),f=(0,r.useCallback)(async()=>{if(!t){y(!0),i(u.sx.activeEmployees),d(u.sx.totalPayrolls);return}try{let e=await t.activeEmployeeCount();i(Number(e));let s=await t.totalPayrollsExecuted();d(Number(s)),y(!1)}catch{y(!0),i(u.sx.activeEmployees),d(u.sx.totalPayrolls)}},[t]);async function N(){if(t){x(!0),m(!1),g(null);try{let e=await t.executePayroll();await e.wait(),g({type:"success",message:"Payroll executed successfully"}),f()}catch(e){g({type:"error",message:e instanceof Error?e.message:"Failed to execute payroll"})}finally{x(!1)}}}return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"glass-card-static p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h3",{className:"text-sm font-heading font-bold text-text",children:"Payroll Summary"}),h&&a.jsx(b.Z,{variant:"warning",size:"sm",children:"Demo Data"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsx("p",{className:"text-xs text-text-muted mb-0.5",children:"Active Employees"}),a.jsx("p",{className:"text-xl font-heading font-bold text-text",children:l})]}),(0,a.jsxs)("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsx("p",{className:"text-xs text-text-muted mb-0.5",children:"Total Payrolls"}),a.jsx("p",{className:"text-xl font-heading font-bold text-text",children:n})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-6",children:[a.jsx("p",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Routing by Trust Tier"}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-primary-muted/50 border border-primary/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(R.Z,{size:14,className:"text-primary"}),a.jsx("span",{className:"text-xs text-text-secondary",children:"High Trust"})]}),a.jsx("span",{className:"text-xs font-mono text-primary",children:"Instant"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-warning-muted/50 border border-warning/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(_.Z,{size:14,className:"text-warning"}),a.jsx("span",{className:"text-xs text-text-secondary",children:"Medium Trust"})]}),a.jsx("span",{className:"text-xs font-mono text-warning",children:"24h Hold"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-danger-muted/50 border border-danger/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(v.Z,{size:14,className:"text-danger"}),a.jsx("span",{className:"text-xs text-text-secondary",children:"Low Trust"})]}),a.jsx("span",{className:"text-xs font-mono text-danger",children:"Escrow"})]})]})]}),(0,a.jsxs)(C.Z,{onClick:()=>m(!0),disabled:!s||0===l||!e,className:"w-full",size:"lg",children:[a.jsx(I,{size:16}),"Execute Payroll"]}),!s&&(0,a.jsxs)("p",{className:"flex items-center gap-1.5 mt-3 text-xs text-warning",children:[a.jsx(w.Z,{size:12}),"Connect wallet to execute payroll"]}),s&&!e&&(0,a.jsxs)("p",{className:"flex items-center gap-1.5 mt-3 text-xs text-text-muted",children:[a.jsx(v.Z,{size:12}),"Only contract owner can execute payroll"]}),j&&(0,a.jsxs)("div",{className:`flex items-center gap-2 mt-3 p-3 rounded-lg text-sm ${"success"===j.type?"bg-primary-muted text-primary":"bg-danger-muted text-danger"}`,children:["success"===j.type?a.jsx(Z,{size:14}):a.jsx(w.Z,{size:14}),j.message]})]}),a.jsx(k,{open:o,onClose:()=>m(!1),title:"Confirm Payroll Execution",description:`This will process payments for ${l} active employee${1!==l?"s":""}.`,children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-text-secondary",children:"Trust-gated routing will determine payment flows based on each employee's encrypted trust score. This operation cannot be undone."}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-white/[0.02]",children:[a.jsx("span",{className:"text-xs text-text-secondary",children:"High Trust employees"}),a.jsx("span",{className:"text-xs text-primary",children:"Instant transfer"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-white/[0.02]",children:[a.jsx("span",{className:"text-xs text-text-secondary",children:"Medium Trust employees"}),a.jsx("span",{className:"text-xs text-warning",children:"24h delayed"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-white/[0.02]",children:[a.jsx("span",{className:"text-xs text-text-secondary",children:"Low Trust employees"}),a.jsx("span",{className:"text-xs text-danger",children:"Escrowed"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[a.jsx(C.Z,{onClick:N,loading:c,className:"flex-1",children:"Confirm Execute"}),a.jsx(C.Z,{variant:"outline",onClick:()=>m(!1),disabled:c,children:"Cancel"})]})]})})]})}var $=s(6283),H=s(3566);function U(){let{payGramCore:e,contractsReady:t}=(0,p.$)(),[s,l]=(0,r.useState)([]),[i,n]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),x=(0,r.useCallback)(async()=>{if(!e){c(!0);return}n(!0);try{let t=await e.nextPaymentId(),s=Number(t),a=[];for(let t=0;t<s&&t<50;t++)try{let s=await e.getPendingPayment(t);a.push({id:t,employee:s.employee,status:Number(s.status),createdAt:s.createdAt,releaseTime:s.releaseTime,milestone:s.milestone})}catch{}l(a.reverse()),c(0===a.length)}catch{c(!0)}finally{n(!1)}},[e]),o=e=>H.R$[e]??"Unknown";function m(e){if("string"==typeof e)switch(e){case"completed":return"primary";case"processing":return"warning";default:return"default"}switch(e){case 1:return"primary";case 2:return"warning";case 3:return"danger";case 4:return"secondary";default:return"default"}}return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-heading font-bold text-text",children:"Payment History"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[d&&a.jsx(b.Z,{variant:"warning",size:"sm",children:"Demo Data"}),(0,a.jsxs)(C.Z,{variant:"ghost",size:"sm",onClick:x,disabled:i,children:[a.jsx(P.Z,{size:13,className:i?"animate-spin":""}),"Refresh"]})]})]}),d?a.jsx(L,{data:u.oJ,statusVariant:m}):0===s.length?(0,a.jsxs)("div",{className:"glass-card-static p-12 text-center",children:[a.jsx($.Z,{size:40,className:"mx-auto mb-3 text-text-muted"}),a.jsx("p",{className:"text-sm font-medium text-text mb-1",children:"No payments recorded yet"}),a.jsx("p",{className:"text-xs text-text-muted",children:"Execute a payroll to see payment records here"})]}):a.jsx("div",{className:"glass-card-static overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left text-text-muted border-b border-white/[0.06]",children:[a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"ID"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Employee"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Status"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Created"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Release"})]})}),a.jsx("tbody",{className:"divide-y divide-white/[0.03]",children:s.map(e=>(0,a.jsxs)("tr",{className:"text-text-secondary hover:bg-white/[0.02] transition-colors",children:[(0,a.jsxs)("td",{className:"px-4 py-3 font-mono text-xs",children:["#",e.id]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(h.Z,{address:e.employee})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(b.Z,{variant:m(e.status),size:"sm",children:o(e.status)})}),a.jsx("td",{className:"px-4 py-3 text-xs text-text-muted",children:(0,T.i$)(e.createdAt)}),a.jsx("td",{className:"px-4 py-3 text-xs text-text-muted",children:e.releaseTime>0n?(0,T.i$)(e.releaseTime):"—"})]},e.id))})]})})})]})}function L({data:e,statusVariant:t}){return a.jsx("div",{className:"glass-card-static overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-left text-text-muted border-b border-white/[0.06]",children:[a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Date"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Employees"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Status"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Type"}),a.jsx("th",{className:"px-4 py-3 font-medium text-xs",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-white/[0.03]",children:e.map(e=>(0,a.jsxs)("tr",{className:"text-text-secondary hover:bg-white/[0.02] transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-xs",children:new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),a.jsx("td",{className:"px-4 py-3 text-xs",children:e.employees}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(b.Z,{variant:t(e.status),size:"sm",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)(b.Z,{variant:"outline",size:"sm",children:[a.jsx(_.Z,{size:10}),e.type]})}),a.jsx("td",{className:"px-4 py-3 text-xs font-mono text-text-muted",children:"Encrypted"})]},e.id))})]})})})}let O=[{id:"employees",label:"Employees",icon:a.jsx(i.Z,{size:14})},{id:"payroll",label:"Run Payroll",icon:a.jsx(d,{size:14})},{id:"history",label:"Payment History",icon:a.jsx(c.Z,{size:14})}];function F(){let{address:e,isConnected:t,isSupportedChain:s,contractsReady:n,payGramCore:y}=(0,p.$)(),[j,v]=(0,r.useState)("employees"),[w,Z]=(0,r.useState)(!1),[C,z]=(0,r.useState)(!1);(0,r.useCallback)(async()=>{if(!y||!e){z(!1);return}try{let t=await y.owner();z(t.toLowerCase()===e.toLowerCase())}catch{z(!1)}},[y,e]);let E=t&&s;return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-text-muted mb-6",children:[a.jsx(l.default,{href:"/",className:"hover:text-text transition-colors",children:"Home"}),a.jsx(x.Z,{size:12}),a.jsx("span",{className:"text-text-secondary",children:"Employer"})]}),a.jsx(N.Z,{}),E&&n&&!C&&(0,a.jsxs)("div",{className:"flex items-center gap-2.5 px-4 py-3 mb-4 rounded-xl bg-white/[0.04] border border-white/[0.08]",children:[a.jsx(o.Z,{size:16,className:"text-text-muted shrink-0"}),(0,a.jsxs)("p",{className:"text-sm text-text-secondary",children:[a.jsx("span",{className:"font-medium text-text",children:"View Mode"})," ","— Connect as contract owner to manage payroll"]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-heading font-bold text-text",children:"Employer Dashboard"}),a.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Manage employees, execute payroll, and track payments"})]}),t&&e&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(h.Z,{address:e}),!s&&a.jsx(b.Z,{variant:"danger",size:"sm",children:"Wrong Network"})]})]}),!E&&(0,a.jsxs)("div",{className:"glass-card p-12 text-center",children:[a.jsx(c.Z,{size:48,className:"mx-auto mb-4 text-text-muted"}),a.jsx("h2",{className:"text-lg font-heading font-bold text-text mb-2",children:t?"Switch Network":"Connect Your Wallet"}),a.jsx("p",{className:"text-sm text-text-secondary mb-1",children:t?"Please switch to Sepolia to use this dashboard":"Connect your wallet to access the employer dashboard"}),a.jsx("p",{className:"text-xs text-text-muted",children:"Showing demo data below"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-8 mb-8",children:[a.jsx(g,{title:"Total Employees",value:E&&n?"...":u.sx.totalEmployees,icon:i.Z,accentColor:"primary"}),a.jsx(g,{title:"Active Payrolls",value:E&&n?"...":u.sx.totalPayrolls,icon:d,accentColor:"secondary"}),a.jsx(g,{title:"Total Distributed",value:E&&n?"...":`${u.sx.totalDistributed} cUSDC`,icon:c.Z,accentColor:"primary"}),a.jsx(g,{title:"Avg Trust Score",value:E&&n?"...":u.sx.avgTrustScore,icon:m.Z,accentColor:"warning"})]}),a.jsx(f,{tabs:O,activeTab:j,onChange:v,className:"mb-6"}),(0,a.jsxs)("div",{className:"min-h-[400px]",children:["employees"===j&&a.jsx(q,{onAddEmployee:()=>Z(!0),isOwner:C}),"payroll"===j&&a.jsx(M,{isOwner:C}),"history"===j&&a.jsx(U,{})]}),a.jsx(S,{open:w,onClose:()=>Z(!1)})]})}},4491:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(326),r=s(1223);let l={active:"bg-primary",pending:"bg-warning",inactive:"bg-text-muted",error:"bg-danger"},i={sm:"h-1.5 w-1.5",md:"h-2 w-2"};function n({status:e,size:t="sm",className:s}){return(0,a.jsxs)("span",{className:(0,r.cn)("relative inline-flex",i[t],s),children:[("active"===e||"pending"===e||"error"===e)&&a.jsx("span",{className:(0,r.cn)("absolute inline-flex h-full w-full rounded-full opacity-75 animate-ping",l[e])}),a.jsx("span",{className:(0,r.cn)("relative inline-flex rounded-full",i[t],l[e])})]})}},5005:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\RIKI\Trusted-paygram\frontend\src\app\employer\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[887,412,918],()=>s(7294));module.exports=a})();